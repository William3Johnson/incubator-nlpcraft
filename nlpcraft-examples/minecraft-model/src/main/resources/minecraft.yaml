#
# Licensed to the Apache Software Foundation (ASF) under one or more
# contributor license agreements.  See the NOTICE file distributed with
# this work for additional information regarding copyright ownership.
# The ASF licenses this file to You under the Apache License, Version 2.0
# (the "License"); you may not use this file except in compliance with
# the License.  You may obtain a copy of the License at
#
#      http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.
#

id: nlpcraft.minecraft.ex
name: Minecraft Model
version: '1.0'
description: Minecraft Model.
"enabledBuiltInTokens": [
    "nlpcraft:num"
]

macros:
#  - name: "<PLAYER_NAME>"
#    macro: "{me|I|my|//[a-zA-Z0-9]+//}"
  - name: "<PLAYER_NAME>"
    macro: "{me|I|my}"

elements:
  # General synonyms
  - id: mc:player
    synonyms:
      - "<PLAYER_NAME>"
  - id: mc:item
    metadata:
      mc:type: item
    valueLoader: org.apache.nlpcraft.example.MinecraftObjectValueLoader
  - id: mc:block
    metadata:
      mc:type: block
    valueLoader: org.apache.nlpcraft.example.MinecraftObjectValueLoader

  # Weather intent
  - id: rain
    description: Set rain weather
    groups:
      - weather
    synonyms:
      - "{rain|rainy}"
  - id: clear
    description: Set sunny weather
    groups:
      - weather
    synonyms:
      - "{sun|sunny|clear sky}"
  - id: thunder
    description: Set stormy weather
    groups:
      - weather
    synonyms:
      - "{thunder|storm|stormy}"

  # Time intent
  - id: morning
    groups:
      - time
    synonyms:
      - "{morning}"
  - id: day
    groups:
      - time
    synonyms:
      - "{day}"
  - id: afternoon
    groups:
      - time
    synonyms:
      - "{afternoon|noon}"
  - id: evening
    groups:
      - time
    synonyms:
      - "{evening}"
  - id: night
    groups:
      - time
    synonyms:
      - "{night}"
  - id: midnight
    groups:
      - time
    synonyms:
      - "{midnight}"

  # Give intent
  - id: give:action
    synonyms:
      - "{give ^^[target](id == 'mc:player')^^}"
  - id: give:block-word
    synonyms:
      - "{block|blocks}"

  # Fill intent
  - id: fill:action
    synonyms:
      - "{fill|make|create}"
  - id: cube
    groups:
      - fill:shape
  - id: square
    groups:
      - fill:shape
    synonyms:
      - "{box|rectangle}"
  - id: line
    groups:
      - fill:shape
    synonyms:
      - "wall"
  - id: fill:length
    synonyms:
      - "{{size|length|diameter} {of|*}}"
  - id: position:player
    groups:
      - fill:position
    synonyms:
      - "{{at|near} ^^[player](id == 'mc:player')^^ {position|*}|where ^^[player](id == 'mc:player')^^}"

  - id: position:front
    groups:
      - fill:position
    synonyms:
      - "{{^^[distance](id == 'nlpcraft:num')^^ m|meter|meters|ft|feet}? {in|*} front {of|*} ^^[player](id == 'mc:player')^^}"




# List of model intents.
intents:
  - intent=weatherIntent term(arg)={groups @@ 'weather'}
  - intent=timeIntent term(arg)={groups @@ 'time'}
  - "intent=giveIntent term(action)={id == 'give:action'} term(quantity)={id == 'nlpcraft:num'}?
  term(item)={id == 'mc:item'} term={id == 'give:block-word'}?"
  - "intent=fillIntent term={id == 'fill:action'} term(shape)={groups @@ 'fill:shape'} term(block)={id == 'mc:item'}
  term={id == 'fill:length'}? term(len)={id == 'nlpcraft:num'} term(position)={groups @@ 'fill:position'}"

# give me sand
swearWordsAllowed: true
